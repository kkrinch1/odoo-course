# hr_hospital (Module 3)

Навчальний модуль Odoo **hr_hospital** з розширеним функціоналом (моделі, наслідування, домени, візарди, демо-дані).

## Функціонал

- **Абстрактна модель `abstract.person`** (наслідування від `image.mixin`):
  - ПІБ (окремі поля), телефон/email з валідацією, стать, дата народження, вік, повне ім'я,
    країна громадянства, мова спілкування (з onchange-підказкою).
- **Пацієнти (`hr.hospital.patient`)**
  - персональний лікар, паспортні дані, контактна особа, група крові, алергії,
    страхова компанія/поліс, історія зміни персональних лікарів.
- **Лікарі (`hr.hospital.doctor`)**
  - користувач системи, спеціальність, інтерн/ментор, ліцензійний номер (унікальний),
    дата видачі, досвід, рейтинг (0..5), графік роботи, країна навчання.
- **Візити (`hr.hospital.patient.visit`)**
  - статуси, план/факт дати, тип візиту, діагнози, рекомендації, вартість/валюта,
    обчислення кількості діагнозів, обмеження на зміну/видалення.
- **Діагнози (`hr.hospital.medical.diagnosis`)**
  - підтвердження діагнозу ментором (approval), дата/лікар підтвердження, тяжкість.
- **Хвороби (`hr.hospital.disease`)**
  - ієрархія (parent/child), код МКХ-10, небезпека, заразність, симптоми, регіони.
- **Нові моделі**
  - `doctor.speciality`, `doctor.schedule`, `patient.doctor.history`, `contact.person`.

## Візарди

- Масове перепризначення лікаря (дія з list Пацієнтів).
- Звіт по хворобах за період (меню Reports).
- Перенесення візиту (кнопка **Reschedule** на формі візиту).
- Заповнення розкладу лікаря (меню Settings → Doctor Schedules).
- Експорт медичної картки пацієнта (кнопка на формі пацієнта).

## Демо-дані

Увімкніть demo при створенні БД. Створюються:
- 5 спеціальностей;
- 8 лікарів (2 інтерни з менторами) + 8 користувачів;
- 15 пацієнтів + 15 контактних осіб;
- 12 хвороб з ієрархією;
- 25 візитів з різними статусами (поточний тиждень);
- 20 діагнозів (частина не затверджені);
- розклад для всіх лікарів на поточний тиждень;
- історія персональних лікарів.

## Встановлення

1. Скопіюйте модуль у ваш addons path.
2. Оновіть список модулів.
3. Встановіть **hr_hospital** (за потреби з demo).

## Швидка перевірка

- Hospital → Patients/Doctors/Visits.
- Перевірте домени:
  - Лікаря без `license_number` не можна призначити у візит.
  - Діагноз: тільки завершені візити за останні 30 днів.
- Перевірте обмеження:
  - один лікар/пацієнт — не більше 1 візиту на день;
  - не можна видалити візит з діагнозами;
  - не можна змінювати візит, що вже відбувся.

---
Навчальний проєкт для виконання завдання **Модуль 3**.
